<%
	getReadableDate = function(dateString) {
		const now = new Date();
		const date = new Date(dateString);
		const currentYear = now.getFullYear();
		const dateYear = date.getFullYear();
		const currentDateString = now.toLocaleDateString("en-us");
		const dateDateString = date.toLocaleDateString("en-us");

		let options = {
			day: "numeric",
			month: "short",
			year: "numeric",
			hour: "2-digit",
			minute: "numeric",
			hour12: true,
			timeZoneName: "short",
		}

		if (currentYear === dateYear) {
			delete options.year;
			if (currentDateString === dateDateString) {
				delete options.month;
				delete options.day;
			}
		}

		const readableDateString = date.toLocaleString("en-us", options);

		return readableDateString;
	};
%>
